<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create tibble of predictors and prediction plots — plot_seasonal_gam_panels • VizSeasonalGams</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create tibble of predictors and prediction plots — plot_seasonal_gam_panels"><meta name="description" content='Creates a tibble with all represented combinations of factor variables in the data,
and includes a model of model predictions across a key continuous variable (plot_by, defaults to "doy")
while setting other continuous variables to their median. Because these plots are within a tibble framework, it is easy to filter to desired combinations of
variables and plot those. (e.g., model might fit 20 years for 13 spatial units, tibble
can rapidly be filtered to just the years of a desired spatial unit, or all spatial units
of a desired year).
If model is a named list of mgcv models, the result is a combination of panel tibbles for each fitted model, with an additional column $model to identify the models used to generate each panel. This can make it easy to compare how modeling choices change predictions.'><meta property="og:description" content='Creates a tibble with all represented combinations of factor variables in the data,
and includes a model of model predictions across a key continuous variable (plot_by, defaults to "doy")
while setting other continuous variables to their median. Because these plots are within a tibble framework, it is easy to filter to desired combinations of
variables and plot those. (e.g., model might fit 20 years for 13 spatial units, tibble
can rapidly be filtered to just the years of a desired spatial unit, or all spatial units
of a desired year).
If model is a named list of mgcv models, the result is a combination of panel tibbles for each fitted model, with an additional column $model to identify the models used to generate each panel. This can make it easy to compare how modeling choices change predictions.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">VizSeasonalGams</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting started with VizSeasonalGams</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cbedwards-dfw/VizSeasonalGams/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create tibble of predictors and prediction plots</h1>
      <small class="dont-index">Source: <a href="https://github.com/cbedwards-dfw/VizSeasonalGams/blob/main/R/plot_seasonal_gam_panels.R" class="external-link"><code>R/plot_seasonal_gam_panels.R</code></a></small>
      <div class="d-none name"><code>plot_seasonal_gam_panels.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a tibble with all represented combinations of factor variables in the data,
and includes a model of model predictions across a key continuous variable (<code>plot_by</code>, defaults to "doy")
while setting other continuous variables to their median. Because these plots are within a tibble framework, it is easy to filter to desired combinations of
variables and plot those. (e.g., model might fit 20 years for 13 spatial units, tibble
can rapidly be filtered to just the years of a desired spatial unit, or all spatial units
of a desired year).</p>
<p>If <code>model</code> is a named list of mgcv models, the result is a combination of panel tibbles for each fitted model, with an additional column <code>$model</code> to identify the models used to generate each panel. This can make it easy to compare how modeling choices change predictions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_seasonal_gam_panels</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  color_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_by <span class="op">=</span> <span class="st">"doy"</span>,</span>
<span>  across_increment <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  quant_trimming <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  include_cis <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_coverage <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  breaks_x <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  model_label <span class="op">=</span> <span class="st">"model"</span>,</span>
<span>  labeler_x <span class="op">=</span> <span class="fu">VizSeasonalGams</span><span class="fu">::</span><span class="va"><a href="doy_2md.html">doy_2md</a></span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A GAM model object from mgcv, or a named list of fitted mgcv models</p></dd>


<dt id="arg-color-by">color_by<a class="anchor" aria-label="anchor" href="#arg-color-by"></a></dt>
<dd><p>Variable to color predictions by. Defaults to NULL, in which case curves are black and each panel has only one set of predictions. When used, color_by necessarily reduces dimensionalality of output by 1.</p></dd>


<dt id="arg-plot-by">plot_by<a class="anchor" aria-label="anchor" href="#arg-plot-by"></a></dt>
<dd><p>A single string specifying the variable to plot across. Defaults to "doy".</p></dd>


<dt id="arg-across-increment">across_increment<a class="anchor" aria-label="anchor" href="#arg-across-increment"></a></dt>
<dd><p>A numeric value specifying the increment for the plot_by variable. Defaults to 1.</p></dd>


<dt id="arg-quant-trimming">quant_trimming<a class="anchor" aria-label="anchor" href="#arg-quant-trimming"></a></dt>
<dd><p>A numeric value between 0 and 1 defining quantile-based trimming – this provides a buffer between the outmost observations and the outmost plot predictions. Defaults to 0.01; increase if plot predictions at the edges are misleading.</p></dd>


<dt id="arg-include-cis">include_cis<a class="anchor" aria-label="anchor" href="#arg-include-cis"></a></dt>
<dd><p>Should we plot the confidence envelope? Logical, defaults to TRUE</p></dd>


<dt id="arg-plot-coverage">plot_coverage<a class="anchor" aria-label="anchor" href="#arg-plot-coverage"></a></dt>
<dd><p>Add histogram at bottom of each panel with data coverage? Logical, defaults to TRUE.</p></dd>


<dt id="arg-breaks-x">breaks_x<a class="anchor" aria-label="anchor" href="#arg-breaks-x"></a></dt>
<dd><p>Approximate number of ticks to use on the X axis, useful to ensure text is legible. Numeric, defaults to 3. Because of quirks in how ggplot works (and the patchwork combination process), plots may not show exactly <code>breaks_x</code> number of ticks, but you can still manipulate actual tick number by changing <code>breaks_x</code>.</p></dd>


<dt id="arg-model-label">model_label<a class="anchor" aria-label="anchor" href="#arg-model-label"></a></dt>
<dd><p>Name to apply to the model identifier column generated when providing a list of mgcv models to <code>model</code> argument.</p></dd>


<dt id="arg-labeler-x">labeler_x<a class="anchor" aria-label="anchor" href="#arg-labeler-x"></a></dt>
<dd><p>Function used to apply x axis labels. Defaults to "doy_2md" which turns numeric day of year into month and day. A value of NULL will use identity.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Provide context? Logical, defaults to TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Tibble, with a column for each factor predictor in <code>model</code>. <code>$.plot</code> column contains the plot panels.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Collin Edwards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

